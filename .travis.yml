language: c
before_install:
  - wget http://downloads.arduino.cc/arduino-1.8.2-linux64.tar.xz
  - tar xf arduino-1.8.2-linux64.tar.xz
  - sudo mv arduino-1.8.2 /usr/local/share/arduino
  - sudo ln -s /usr/local/share/arduino/arduino /usr/local/bin/arduino
  - mkdir ~/Arduino/hardware/dygma
  - git clone --recursive https://github.com/Dygmalab/ArduinoCore-samd ~/Arduino/hardware/dygma/samd
install:
  - arduino --install-boards arduino:samd
  - arduino --board esp8266:esp8266:generic --save-prefs
  - arduino --pref "compiler.warning_level=all" --save-prefs
script:
  - "echo $PWD"
  - "echo $HOME"
  - "ls $PWD"
  - arduino -v --verify --board dygma:samd:raise_edbg Raise-Firmware.ino
after_success:
  - bash <(curl -s https://codecov.io/bash)
notifications:
  email:
    on_success: change
    on_failure: change
